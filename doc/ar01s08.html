<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>The purpose of assertion macros</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.70.1"><link rel="start" href="index.html" title="Modular Assertions version 2.0.6"><link rel="up" href="index.html" title="Modular Assertions version 2.0.6"><link rel="prev" href="ar01s07.html" title="Adding ModAssert to your application"><link rel="next" href="ar01s09.html" title="The purpose of macros for error handling"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">The purpose of assertion macros</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s07.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s09.html">Next</a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id513187"></a>The purpose of assertion macros</h2></div></div></div><a class="indexterm" name="id513192"></a><a class="indexterm" name="id513197"></a><p>Assertion macros allow a programmer to check conditions of which they know that they
<span class="emphasis"><em>should</em></span> be true at a certain point, if all goes well.
These errors are also called <span class="emphasis"><em>unexpected</em></span> errors. This can show problems long before
they manifest themselves as a bug or a crash. E.g. if a method to find a value in a
container returns an index bigger than the size of the container, this is obviously an error.
If that index is stored, and used some time later to index the array, we will notice this error,
but we may not know where the index was calculated. Adding an assertion after the calculation
of the index like <code class="code">MOD_ASSERT(idx&lt;vec.size())</code> would immediately reveal the problem.
With a Rich Boolean you could write <code class="code">MOD_ASSERT(rbLESS(idx, vec.size()))</code>, so you would also know
the value of <code class="code">idx</code> and <code class="code">vec.size()</code>.</p><p>One common usage for assertion macros are contracts. These are pre or post conditions,
or invariants (in case of an object). Pre and post conditions should be fulfilled at respectively
the entry or exit of a function. Invariants apply to the state of an object, that should be fulfilled
at both the exit and entry of every method.</p><p>Another example is a method that initializes a pointer, and that should be called only
once. The method could then check that the pointer is <code class="code">NULL</code> when the method is entered.</p><p>It takes some experience to learn to recognize where a programmer can use assertions.
A good starting point is to add assertions if you encounter a nasty bug. See what assertions you
could add in the affected code, by identifying conditions that should hold, but might not judged
on what goes wrong.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s07.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s09.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Adding ModAssert to your application </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> The purpose of macros for error handling</td></tr></table></div></body></html>
